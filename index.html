<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            Mafia pizza
        </title>
       <link href="./css/styles.css" rel="stylesheet">
    </head>
    <body>
        <header>
        <button id="mainBtn">
            Main
        </button>
        <button id="allBtn">
            Catalogue
        </button>
        <button id="pizzaBtn">
            Pizza
        </button>
        <button id="sushiBtn">
            Sushi 
        </button>
        <button id="drinkBtn">
            Drink
        </button>
        <button id="promosBtn">
            Promotions
        </button>
        
        <button id="cartBtn" style="float:right;">
            In the cart: <span id="amount">0</span>
        </button>

        </header>

        <!-- CLASS WITH CODE -->
        
        <div id="content" class="content" style="width: 100%; height: 100%;">

            
        </div>
        <!-- CLASS WITH CODE. AFTER WRITING TO MOVE TO A JS FILE -->

        <script type="module">
            import { routes } from './js/getpage.js';
            import { generatePromo,generateItems } from './js/functions.js';

            async function router(){
                let link = window.location.href;
                let buttonList = document.querySelectorAll('header button');
                for(let i=0;i<buttonList.length;i++){
                    buttonList[i].style.backgroundColor = 'darkorange';
                }

                if(link.indexOf('#')==-1)link = 'main';
                else
                    link = link.substring(link.indexOf('#'));
                console.log(link);
                switch(link){
                    case 'sushi':
                        document.getElementById('sushiBtn').style.backgroundColor = '#F9E79F';
                        document.getElementById('content').innerHTML = routes['sushi'];
                        document.getElementById('goodsField').innerHTML = await generateItems('sushi');

                        break;
                    case 'pizza':
                        document.getElementById('pizzaBtn').style.backgroundColor = '#F9E79F';
                        document.getElementById('content').innerHTML = routes['pizza'];
                        document.getElementById('goodsField').innerHTML = await generateItems('pizza');
                        break;
                    case 'drinks':
                        document.getElementById('drinkBtn').style.backgroundColor = '#F9E79F';
                        document.getElementById('content').innerHTML = routes['drinks'];
                        document.getElementById('goodsField').innerHTML = await generateItems('drinks');
                        break;
                    case 'cart':
                        document.getElementById('cartBtn').style.backgroundColor = '#F9E79F';
                        document.getElementById('content').innerHTML = routes['cart'];
                        break;
                    case 'all':
                        document.getElementById('allBtn').style.backgroundColor = '#F9E79F';
                        document.getElementById('content').innerHTML = routes['all'];
                        break;
                    default:
                        document.getElementById('mainBtn').style.backgroundColor = '#F9E79F';
                        document.getElementById('content').innerHTML = routes['main'];
                        document.getElementById('goodsField').innerHTML = await generateItems('recommended');
                        generatePromo();
                        document.getElementById("prevbutton").style.display = 'inline';
                        document.getElementById("nextbutton").style.display = 'inline';
                        break;
                }
            }

            function jump(path){
                window.location.href = "https://valerydrozd.github.io/"+path;
                router();
            }
            window.onload = router();
        </script>
        <script type="text/javascript" src='./js/slider.js'></script>
        <script type="text/javascript" src='./js/buy.js'></script>
        <footer class="foot">
            
        </footer>
    </body>
</html>